image: Visual Studio 2019

version: '{build}'

clone_depth: 50

environment:
  OSSRH_GPG_SECRET_KEY_BASE64:
    secure: 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
  MAVEN_GPG_PASSPHRASE:
    secure: TC0Q2cPE/xBrDC4oW73RYfYZEGlXaw0mwRZRXtyw3yFWz1fvkLtYV6G03f+Iw4tP
  matrix:
    - platform: x86
      JAVA_HOME: ${ProgramFiles(x86)}\Java\jdk1.8.0
    - platform: x64
      JAVA_HOME: $(ProgramFiles)\Java\jdk1.8.0
      ARTIFACTS_PATH: target\*.jar
      CHECKSUMS_PATH: target\checksums.md
      VT_API_KEY:
        secure: 3sqJDjLAS708tR/LiAqKLZTnLLrhGJuWVzzI4nCjLbUUsZB+PPRG3y0BWWnMo14CDhBT4v6yjHTA23RdopoHDWJlBcGhKELKZOLhHsnJLU8=
      GITHUB_SITE_MAVEN_PLUGIN_TOKEN:
        secure: iraKgcF8ghXlZsLu+cIcsqqxeNTyeuCkLCtXA+SkOKrVFyGp+djEDD0ga3O8AHRb

before_build:
  - ps: '[System.Text.Encoding]::ASCII.GetString([System.Convert]::FromBase64String($Env:OSSRH_GPG_SECRET_KEY_BASE64)) | gpg -q --batch --import' 
  - cmd: gpg --list-secret-keys --keyid-format LONG

build_script:
  - cmd: mvn clean install -B -V -e -ntp

after_build:
  - cmd: IF DEFINED GITHUB_SITE_MAVEN_PLUGIN_TOKEN mvn deploy -DskipTests -B -V -e
  - cmd: IF DEFINED VT_API_KEY FOR %%f IN (%ARTIFACTS_PATH%) DO ECHO Submitting file "%%f" to VirusTotal... & curl -v -F "file=@%%f" -F apikey=%VT_API_KEY% https://www.virustotal.com/vtapi/v2/file/scan & ECHO File "%%f" submitted to VirusTotal. & TIMEOUT 15 /NOBREAK

artifacts:
  - path: $(ARTIFACTS_PATH)
    type: file
  - path: $(CHECKSUMS_PATH)
    type: file

deploy:
  description: 'Autogenerated'
  provider: GitHub
  auth_token:
    secure: iraKgcF8ghXlZsLu+cIcsqqxeNTyeuCkLCtXA+SkOKrVFyGp+djEDD0ga3O8AHRb
  draft: true
  on:
    appveyor_repo_tag: true
